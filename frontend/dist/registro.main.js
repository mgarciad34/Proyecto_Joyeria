(()=>{"use strict";class e{constructor(e,t,n){this.name=e,this.email=t,this.password=n}}var t=document.getElementById("nombre"),n=document.getElementById("email"),r=(document.getElementById("rol"),document.getElementById("password")),o=document.getElementById("confirmPassword"),a=document.getElementById("registrarse"),s=document.getElementById("messagePassword");function d(e){var t=e.length,n=!0;return(t<6||t>12)&&(n=!1,s.style.color="red",s.innerHTML="El tamaño debe de ser entre 6 y 12<br>"),!1===function(e){return/^[A-Za-z0-9*#$.]{6,12}$/.test(e)}(e)&&(n=!1,s.style.color="red",s.innerHTML+="El formato de contraseña no es válido"),!0===n&&(s.style.color="green",s.innerHTML="Contraseña válida"),n}r.addEventListener("input",(function(){d(r.value)})),a.addEventListener("click",(function(a){a.preventDefault();var s,i,l,c="";!1===(s=t.value,/^[A-Z]{1}[a-z]{1,19}$/.test(s))&&(c+="Nombre incorrecto \n"),!1===(i=n.value,/^[A-Za-zñÑ0-9_]{2,15}@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(i))&&(c+="Correo incorrecto \n"),!1===d(r.value)&&(c+="Contraseña incorrecta \n"),!1===(l=!1,r.value===o.value&&(l=!0),l)&&(c+="Las contraseñas introducidas son diferentes"),""===c?(!async function(e,t){try{const t=await fetch("http://127.0.0.1:8000/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Error de red: ${t.status}`)}catch(e){console.error("Error al enviar los datos:",e.message)}}(new e(t.value,n.value,r.value)),window.location.href="../index.html"):alert(c)}))})();