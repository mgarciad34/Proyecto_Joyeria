(()=>{"use strict";class e{constructor(e,n,t){this.name=e,this.email=n,this.password=t}}function n(e){var n={"rgb(255, 0, 0)":"red","rgb(0, 128, 0)":"green"}[window.getComputedStyle(e).color];return console.log(n),"green"===n?1:0}var t=document.getElementById("nombre"),r=document.getElementById("email"),o=document.getElementById("password"),s=document.getElementById("confirmPassword"),a=document.getElementById("registrarse"),c=document.getElementById("messagePassword"),i=document.getElementById("messagePasswordConfirm"),l=document.getElementById("messageName"),d=document.getElementById("messageEmail");t.addEventListener("input",(function(){var e;!1===(e=t.value,/^[A-Z]{1}[a-z]{1,19}$/.test(e))?(l.style.color="red",l.innerHTML="Nombre Incorrecto"):(l.style.color="green",l.innerHTML="Nombre Correcto")})),r.addEventListener("input",(function(){var e;!1===(e=r.value,/^[A-Za-zñÑ0-9_]{2,15}@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(e))?(d.style.color="red",d.innerHTML="Correo Incorrecto"):(d.style.color="green",d.innerHTML="Correo Correcto")})),o.addEventListener("input",(function(){!function(e){var n=e.length,t=!0;(n<6||n>12)&&(t=!1,c.style.color="red",c.innerHTML="El tamaño debe de ser entre 6 y 12<br>"),!1===function(e){return/^[A-Za-z0-9*#$.]{6,12}$/.test(e)}(e)&&(t=!1,c.style.color="red",c.innerHTML+="El formato de contraseña no es válido"),!0===t&&(c.style.color="green",c.innerHTML="Contraseña válida")}(o.value)})),s.addEventListener("input",(function(){var e=function(e,n){var t=!1;return e===n&&(t=!0),t}(o.value,s.value);console.log(e),!0===e?(i.style.color="green",i.innerHTML="Las contraseñas coinciden"):(i.style.color="red",i.innerHTML="Las contraseñas no coinciden")})),a.addEventListener("click",(function(s){s.preventDefault();var a=new e(t.value,r.value,o.value);console.log(JSON.stringify(a)),4==n(l)+n(d)+n(c)+n(i)&&async function(e,n){try{const n=await fetch("http://127.0.0.1:8000/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error(`Error de red: ${n.status}`)}catch(e){console.error("Error al enviar los datos:",e.message)}}(a).then((function(){window.location.href="../index.html"}))}))})();