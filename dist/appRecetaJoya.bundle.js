(()=>{"use strict";var e={574:(e,t,n)=>{async function a(e){try{const t=await fetch("http://127.0.0.1:8000/api/recetas/"+e);if(!t.ok)throw new Error("No se pudo obtener las joyas");return await t.json()}catch(e){return!1}}async function o(e,t){let n={};n.id_usuario=t;try{let t="http://127.0.0.1:8000/api/joya/fabricar/"+e;const a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},o=await fetch(t,a);if(!o.ok)throw new Error("No se pudo fabricar la joya");return await o.json()}catch(e){return e}}n.d(t,{S:()=>a,g:()=>o})}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(574);let t=sessionStorage.getItem("joya-guardada"),a=document.getElementById("btnFabricar"),o=!0;(0,e.S)(t).then((function(e){!function(e){let t=document.getElementById("tabla_receta");for(let n=0;n<e.detalle.length;n++){console.log(e.detalle[n]);let r=document.createElement("tr"),d=document.createElement("td"),i=document.createElement("span");i.textContent=e.detalle[n].id_componente;let l=document.createElement("td"),c=document.createElement("span");c.textContent=e.detalle[n].tipo;let s=document.createElement("td"),p=document.createElement("span");p.textContent=e.detalle[n].cantidad_necesaria;let u=document.createElement("td"),m=document.createElement("span");m.textContent=e.detalle[n].cantidad_disponible,e.detalle[n].cantidad_disponible<e.detalle[n].cantidad_necesaria&&(m.style.color="red",o=!1,a.disabled=!0),d.appendChild(i),l.appendChild(c),s.appendChild(p),u.appendChild(m),r.appendChild(d),r.appendChild(l),r.appendChild(s),r.appendChild(u),t.appendChild(r)}}(e)})),a.addEventListener("click",(function(){if(o){if(confirm("¿Estás seguro de que deseas continuar?")){let t=JSON.parse(sessionStorage.getItem("joya-guardada")),n=JSON.parse(sessionStorage.getItem("id-usuario"));(0,e.g)(t,n).then((function(e){}))}}else alert("Recursos insuficientes")}))})()})();