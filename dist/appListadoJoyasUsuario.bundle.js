(()=>{"use strict";async function e(e){try{let t="http://127.0.0.1:8000/api/joyas/eliminar/"+e;const n={method:"DELETE",headers:{"Content-Type":"aplication/json"}},a=await fetch(t,n);if(!a.ok)throw new Error("No se pudo obtener las categorias");return await a.json()}catch(e){return e}}(async function(e){try{const t=await fetch("http://127.0.0.1:8000/api/joyas/usuario/"+e);if(!t.ok)throw new Error("No se pudo obtener las joyas");return await t.json()}catch(e){return!1}})(JSON.parse(sessionStorage.getItem("id-usuario"))).then((function(t){!function(t){var n=document.getElementById("tabla_joyas");console.log(t);for(let a=0;a<t[0].length;a++){console.log(t[0][a]);let o=document.createElement("tr"),d=document.createElement("td"),r=document.createElement("button");r.textContent="receta",r.setAttribute("id",t[0][a].id);let i=document.createElement("td"),c=document.createElement("button");c.textContent="Eliminar",c.setAttribute("id",t[0][a].id),c.style.backgroundColor=" red";let l=document.createElement("td"),s=document.createElement("span");s.textContent=t[0][a].id;let u=document.createElement("td"),p=document.createElement("span");p.textContent=t[0][a].nombre;let m=document.createElement("td"),h=document.createElement("span");h.textContent=t[0][a].foto,r.addEventListener("click",(function(e){sessionStorage.setItem("joya-guardada",JSON.parse(r.id)),window.location.href="./receta-joya.html"})),c.addEventListener("click",(function(n){confirm("Â¿Estas seguro que deseas eliminar esta joya? ")&&e(t[0][a].id).then()})),l.appendChild(s),u.appendChild(p),m.appendChild(h),d.appendChild(r),i.appendChild(c),o.appendChild(l),o.appendChild(u),o.appendChild(m),o.appendChild(d),o.appendChild(i),n.appendChild(o)}}(t)}))})();