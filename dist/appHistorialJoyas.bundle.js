(()=>{"use strict";let e=document.getElementById("barra_busqueda");(async function(){try{const e=await fetch("http://127.0.0.1:8000/api/joyas/historial");if(!e.ok)throw new Error("No se pudo obtener las joyas");return await e.json()}catch(e){return!1}})().then((function(e){!function(e){var t=document.getElementById("tabla_historial");console.log(e);for(let n=0;n<e.historial.length;n++){let a=document.createElement("tr"),o=document.createElement("td"),l=document.createElement("span");l.textContent=e.historial[n].id;let d=document.createElement("td"),r=document.createElement("span");r.textContent=e.historial[n].id_joya;let i=document.createElement("td"),c=document.createElement("span");c.textContent=e.historial[n].creado;let s=document.createElement("td"),u=document.createElement("span");u.textContent=e.historial[n].id_usuario,o.appendChild(l),i.appendChild(c),s.appendChild(u),d.appendChild(r),a.appendChild(o),a.appendChild(d),a.appendChild(s),a.appendChild(i),t.appendChild(a)}}(e[0])})),e.addEventListener("input",(function(){!function(e){var t=document.getElementById("barra_busqueda").value.toLowerCase(),n=document.getElementById("tabla_historial");for(let e=0;e<n.rows.length;e++)""==t?n.rows[e].style.display="":n.rows[e].cells[1].textContent!=t&&(n.rows[e].style.display="none")}()}))})();